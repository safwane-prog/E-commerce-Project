{% extends 'base.html' %}
{% load static %}

{% block title %}Login / Register{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'css\login.css' %}">
<div class="auth-container">
    <div class="auth-forms">
        <!-- Login Form -->
        <div class="auth-form" id="login-form">
            <div class="auth-header">
                <h2>Welcome Back</h2>
                <p>Sign in to access your account</p>
            </div>
            
            <!-- Message container for login -->
            <div id="login-message" class="message"></div>
            
            <form id="loginForm" method="post">
                {% csrf_token %}
                <div class="form-group">
                    <label for="login-username">Username</label>
                    <div class="input-with-icon">
                        <i class="bi bi-person"></i>
                        <input type="text" id="login-username" name="username" placeholder="Enter your username" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="login-password">Password</label>
                    <div class="input-with-icon">
                        <input type="password" id="login-password" name="password" placeholder="Enter your password" required>
                        <i class="bi bi-eye-slash toggle-password" onclick="togglePassword('login-password', this)"></i>
                    </div>
                    <div class="form-options">
                        <label class="remember-me">
                            <input type="checkbox" name="remember"> Remember me
                        </label>
                        <a href="#" class="forgot-password">Forgot password?</a>
                    </div>
                </div>
                
                <button type="submit" class="auth-btn" id="login-btn">
                    <span class="btn-text">Sign In</span>
                </button>
                
                <div class="auth-switch">
                    Don't have an account? <a href="#" onclick="showRegisterForm()">Register</a>
                </div>
            </form>
        </div>
        
        <!-- Register Form -->
        <div class="auth-form" id="register-form" style="display: none;">
            <div class="auth-header">
                <h2>Create Account</h2>
                <p>Join us to start shopping</p>
            </div>
            
            <!-- Message container for registration -->
            <div id="register-message" class="message"></div>
            
            <form id="registerForm" method="post">
                {% csrf_token %}
                <div class="form-group">
                    <label for="register-username">Username</label>
                    <div class="input-with-icon">
                        <i class="bi bi-person"></i>
                        <input type="text" id="register-username" name="username" placeholder="Choose a unique username" required>
                    </div>
                    <div class="input-hint">4-30 characters (letters, numbers, _ only)</div>
                </div>
                
                <div class="form-group">
                    <label for="register-password">Password</label>
                    <div class="input-with-icon">
                        <input type="password" id="register-password" name="password" placeholder="Create a strong password" required>
                        <i class="bi bi-eye-slash toggle-password" onclick="togglePassword('register-password', this)"></i>
                    </div>
                    <div class="password-strength">
                        <span class="strength-indicator weak"></span>
                        <span class="strength-indicator medium"></span>
                        <span class="strength-indicator strong"></span>
                        <span class="strength-text">Password strength</span>
                    </div>
                    <div class="input-hint">Minimum 8 characters</div>
                </div>
                
                <div class="form-group">
                    <label for="register-confirm-password">Confirm Password</label>
                    <div class="input-with-icon">
                        <input type="password" id="register-confirm-password" name="password2" placeholder="Re-enter your password" required>
                        <i class="bi bi-eye-slash toggle-password" onclick="togglePassword('register-confirm-password', this)"></i>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="terms-checkbox">
                        <input type="checkbox" name="terms" required>
                        I agree to the <a href="#">Terms of Service</a> and <a href="#">Privacy Policy</a>
                    </label>
                </div>
                
                <button type="submit" class="auth-btn" id="register-btn">
                    <span class="btn-text">Create Account</span>
                </button>
                
                <div class="auth-switch">
                    Already have an account? <a href="#" onclick="showLoginForm()">Sign In</a>
                </div>
            </form>
        </div>
    </div>
    
    <div class="auth-hero">
        <div class="hero-content">
            {% if logo %}
                <img src="{{ logo.logo.url }}" alt="Store Logo" class="hero-logo">
            {% else %}
                <img src="{% static 'imges/icon/Brand-logo.svg' %}" alt="Store Logo" class="hero-logo">
            {% endif %}
            <h2>Join Our Community</h2>
            <p>Discover amazing products and exclusive deals just for you.</p>
            <div class="hero-features">
                <div class="feature">
                    <i class="bi bi-truck"></i>
                    <span>Fast Delivery</span>
                </div>
                <div class="feature">
                    <i class="bi bi-shield-check"></i>
                    <span>Secure Payments</span>
                </div>
                <div class="feature">
                    <i class="bi bi-arrow-repeat"></i>
                    <span>Easy Returns</span>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    const mainDomain = "{{ main_domin|escapejs }}";
    const currencySymbol = "{{ currency|escapejs }}";
</script>
<script src="{% static 'js\login.js'%}"></script>
{% endblock %}