{% extends 'base.html' %}
{% load static %}
{% block title %}Order Confirmation - Your Store{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/Confirmation.css' %}">

<div class="confirmation-container">
    <div class="confirmation-card">
        <div class="confirmation-icon">
            <i class="fas fa-check-circle"></i>
        </div>
        <h1 class="confirmation-title">Thank You For Your Order!</h1>
        <p class="confirmation-subtitle">Your order has been received and is being processed</p>
        <div class="order-number">Order #{{ order.order_number }}</div>
        <div class="btn-group">
            <a href="{% url 'Shop' %}" class="btn btn-primary">Continue Shopping</a>
            <a href="{% url 'profile' %}#orders" class="btn btn-outline">Track Your Order</a>
        </div>
    </div>

    <div class="order-items">
        <h2>Order Items</h2>
        
        {% for product in order.products.all %}
        <div class="order-item">
            <div class="item-image">
                <img src="{{ product.image_1.url }}" alt="{{ product.name }}">
            </div>
            <div class="item-details">
                <div class="item-name">{{ product.name }}</div>
                <div class="item-price">{{ product.price|floatformat:2 }} {{ currencySymbol|default:"$" }}</div>
                <div class="item-quantity">Qty: {{ product.quantity|default:"1" }}</div>
            </div>
        </div>
        {% endfor %}
        
        <div class="order-totals">
            <div class="total-row">
                <span class="total-label">Subtotal:</span>
                <span class="total-value">{{ subtotal|floatformat:2 }} {{ currencySymbol|default:"$" }}</span>
            </div>
            <div class="total-row">
                <span class="total-label">Shipping:</span>
                <span class="total-value">{{ shipping|floatformat:2 }} {{ currencySymbol|default:"$" }}</span>
            </div>
            {% if service %}
            <div class="total-row">
                <span class="total-label">Service Fee:</span>
                <span class="total-value">{{ service|floatformat:2 }} {{ currencySymbol|default:"$" }}</span>
            </div>
            {% endif %}
            <div class="total-row">
                <span class="total-label">Tax:</span>
                <span class="total-value">{{ tax|floatformat:2 }} {{ currencySymbol|default:"$" }}</span>
            </div>
            <div class="total-row">
                <span class="total-label">Discount:</span>
                <span class="total-value" style="color: var(--success-color);">-{{ discount|floatformat:2 }} {{ currencySymbol|default:"$" }}</span>
            </div>
            <div class="total-row grand-total">
                <span>Total:</span>
                <span>{{ total|floatformat:2 }} {{ currencySymbol|default:"$" }}</span>
            </div>
        </div>
    </div>
</div>
{% endblock %}
